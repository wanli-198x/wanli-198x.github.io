import { defineComponent, createPropsRestProxy, useSlots, computed, toRaw, createElementBlock, createBlock, createCommentVNode, openBlock, normalizeStyle, normalizeClass, unref, renderSlot, resolveDynamicComponent } from 'vue';
import { isString, isObject, addUnit } from '../../../../helper/dist/index.mjs';
import 'vitepress';
import { useNamespace } from '../../../../composables/useNamespace.mjs';
import 'vitepress-theme-teek/theme-chalk/tk-copy-banner.css';
import '../../../../composables/useZIndex.mjs';
import _sfc_main$3 from './components/SvgIcon.vue2.mjs';
import _sfc_main$4 from './components/FontIcon.vue2.mjs';
import _sfc_main$1 from './components/IconifyOffline.vue2.mjs';
import _sfc_main$2 from './components/IconifyOnline.vue2.mjs';

const _hoisted_1 = ["innerHTML"];
const _hoisted_2 = ["src", "alt"];
var _sfc_main = /* @__PURE__ */ defineComponent({
  ...{ name: "Icon" },
  __name: "index",
  props: {
    icon: { default: "" },
    iconType: {},
    size: {},
    color: {},
    hover: { type: Boolean, default: false },
    hoverColor: {},
    imgAlt: {},
    pointer: { type: Boolean, default: false },
    style: {}
  },
  setup(__props) {
    const ns = useNamespace("icon");
    const props = createPropsRestProxy(__props, ["icon", "iconType", "color", "hover", "hoverColor", "pointer"]);
    const slot = useSlots();
    const getStyle = () => {
      return {
        ...props.style,
        ...__props.pointer ? { cursor: "pointer" } : void 0,
        "--icon-color": __props.color,
        "--icon-size": props.size && addUnit(props.size),
        "--icon-color-hover": __props.hoverColor || ns.cssVar("theme-color")
      };
    };
    const finalIcon = computed(() => {
      if (!isString(__props.icon)) return toRaw(__props.icon);
      return __props.icon.replace(/^(svg-|if-|uni-|sym-|img-)/i, "");
    });
    const fontIconType = computed(() => {
      if (__props.iconType && ["unicode", "iconfont", "symbol"].includes(__props.iconType)) {
        return __props.iconType;
      }
      if (!isString(__props.icon)) return "";
      const caseIconName = __props.icon.toLowerCase();
      if (caseIconName.startsWith("if-") || caseIconName.startsWith("iconfont") || finalIcon.value.startsWith("icon-")) {
        return "iconfont";
      }
      if (caseIconName.startsWith("uni-") || /^&#x[\da-f]+/i.test(__props.icon) || __props.icon.length === 1 && __props.icon.charCodeAt(0) >= 57344 && __props.icon.charCodeAt(0) <= 63743) {
        return "unicode";
      }
      if (caseIconName.startsWith("sym-")) return "symbol";
      return "";
    });
    const isSvgIcon = computed(() => isString(__props.icon) && (__props.iconType === "svg" || __props.icon.startsWith("svg-") || isString(__props.icon)));
    const isSvgIconHtml = computed(() => isString(__props.icon) && __props.icon?.includes("<svg"));
    const isFontIcon = computed(() => isString(__props.icon) && fontIconType.value);
    const isComponent = computed(
      () => !isString(__props.icon) && (__props.iconType === "component" || isObject(__props.icon) && ("setup" in __props.icon || "render" in __props.icon) || typeof __props.icon === "function")
    );
    const isIconifyOffline = computed(() => !isString(__props.icon) && (__props.iconType === "iconifyOffline" || "body" in __props.icon));
    const isIconifyOnline = computed(() => isString(__props.icon) && (__props.iconType === "iconifyOnline" || __props.icon.includes(":")));
    const isImage = computed(
      () => isString(__props.icon) && (__props.iconType === "img" || __props.icon.toLowerCase().startsWith("img-") || [".png", ".jpg", ".jpeg", ".gif", ".bmp", ".webp", ".svg"].some((ext) => __props.icon.endsWith(ext)))
    );
    return (_ctx, _cache) => {
      return !isFontIcon.value && !isImage.value && !isSvgIconHtml.value ? (openBlock(), createElementBlock(
        "i",
        {
          key: 0,
          class: normalizeClass([unref(ns).b(), unref(ns).is("hover", __props.hover)]),
          style: normalizeStyle(getStyle())
        },
        [
          unref(slot).default ? renderSlot(_ctx.$slots, "default", { key: 0 }) : isComponent.value ? (openBlock(), createBlock(resolveDynamicComponent(finalIcon.value), {
            key: 1,
            size: __props.size
          }, null, 8, ["size"])) : isIconifyOffline.value ? (openBlock(), createBlock(_sfc_main$1, {
            key: 2,
            icon: finalIcon.value
          }, null, 8, ["icon"])) : isIconifyOnline.value ? (openBlock(), createBlock(_sfc_main$2, {
            key: 3,
            icon: finalIcon.value
          }, null, 8, ["icon"])) : isSvgIcon.value ? (openBlock(), createBlock(_sfc_main$3, {
            key: 4,
            icon: finalIcon.value
          }, null, 8, ["icon"])) : createCommentVNode("v-if", true)
        ],
        6
        /* CLASS, STYLE */
      )) : isSvgIconHtml.value ? (openBlock(), createElementBlock("i", {
        key: 1,
        innerHTML: __props.icon,
        class: normalizeClass([unref(ns).b(), unref(ns).is("hover", __props.hover)]),
        style: normalizeStyle(getStyle())
      }, null, 14, _hoisted_1)) : isFontIcon.value && fontIconType.value ? (openBlock(), createBlock(_sfc_main$4, {
        key: 2,
        icon: finalIcon.value,
        iconType: fontIconType.value,
        class: normalizeClass([unref(ns).b(), unref(ns).is("hover", __props.hover)]),
        style: normalizeStyle(getStyle())
      }, null, 8, ["icon", "iconType", "class", "style"])) : isImage.value ? (openBlock(), createElementBlock("img", {
        key: 3,
        src: finalIcon.value,
        alt: __props.imgAlt,
        class: normalizeClass([unref(ns).b(), unref(ns).is("hover", __props.hover)]),
        style: normalizeStyle(getStyle())
      }, null, 14, _hoisted_2)) : createCommentVNode("v-if", true);
    };
  }
});

export { _sfc_main as default };
