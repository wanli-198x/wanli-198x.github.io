'use strict';

var Vue = require('vue');

const useMounted = (fn, options = {}) => {
  const { sync = false, nexTick = true } = options;
  const isMounted = Vue.shallowRef(false);
  const instance = Vue.getCurrentInstance();
  if (instance) {
    Vue.onMounted(() => {
      isMounted.value = true;
      fn?.();
    }, instance);
  } else if (sync) fn?.();
  else if (nexTick) Vue.nextTick(fn);
  return isMounted;
};

exports.useMounted = useMounted;
